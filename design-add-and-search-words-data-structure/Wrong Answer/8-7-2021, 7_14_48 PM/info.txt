{"id":534692573,"lang":"cpp","time":"1Â month","timestamp":1628343888,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/534692573/","is_pending":"Not Pending","title":"Design Add and Search Words Data Structure","memory":"N/A","code":"#pragma GCC optimize(\"Ofast\")\n#pragma GCC target(\"avx,avx2,fma\")\nstatic auto _ = []() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(nullptr);\n  cout.tie(nullptr);\n  return 0;\n}();\n\nclass WordDictionary {\npublic:\n    WordDictionary() {\n    }\n    unordered_map<char,vector<char>>adjList;\n    unordered_map<char,int>freq;\n    void addWord(string word) {\n        \n        for(int i=0;i<word.size();i++)freq[word[i]]++;\n        for(int i=1;i<word.length();i++)\n        {\n            adjList[word[i-1]].push_back(word[i]);\n        }\n        adjList[word[word.length()-1]].push_back(word[word.length()-1]);\n    }\n    \n    bool dfs(int index,string& word)\n    {\n        if(index>=word.size())return true;\n        bool ans=false;\n        if(word[index]=='.')\n        {\n            for(auto it:adjList)\n            {\n                if(freq[it.first]>=1)\n                {\n                    freq[it.first]--;\n                    ans=ans||dfs(index+1,word);\n                    freq[it.first]++;\n                }\n                else\n                continue;\n                if(ans)return ans;\n            }\n        }\n        else\n        {\n            for(auto it:adjList)\n            {\n                if(it.first==word[index] and freq[word[index]]>=1)\n                {\n                    freq[word[index]]--;\n                    ans=ans||dfs(index+1,word);\n                    freq[it.first]++;\n                }\n                else\n                continue;\n                if(ans)return ans;\n            }\n        }\n        return false;\n    }\n    \n    bool search(string word) {\n        int i=0;\n        return dfs(i,word);\n    }\n};\n","compare_result":"1111110000000","title_slug":"design-add-and-search-words-data-structure"}