{"id":508141133,"lang":"cpp","time":"2 months, 4 weeks","timestamp":1623737162,"status_display":"Accepted","runtime":"16 ms","url":"/submissions/detail/508141133/","is_pending":"Not Pending","title":"Satisfiability of Equality Equations","memory":"19.5 MB","code":"#pragma GCC optimize(\"Ofast\")\n#pragma GCC target(\"avx,avx2,fma\")\nstatic auto _ = []() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(nullptr);\n  cout.tie(nullptr);\n  return 0;\n}();\n\nclass Solution {\npublic:\n    \n    unordered_map<char,vector<char>>equals;\n    unordered_map<char,vector<char>>unequals;\n    \n    int contradiction(char start,char target)\n    {\n        int vis[26]={0};\n        queue<char>bfs;\n        bfs.push(start);\n        vis[start-'a']=1;\n        while(!bfs.empty())\n        {\n            char tmp=bfs.front();\n            if(target==tmp)\n            return 1;\n            bfs.pop();\n            vector<char>canids=equals[tmp];\n            for(int i=0;i<canids.size();i++)\n            {\n                if(target==canids[i])\n                return 1;\n                else\n                {\n                    if(vis[canids[i]-'a']==0)\n                    {\n                        vis[canids[i]-'a']=1;\n                        bfs.push(canids[i]);\n                    }\n                }\n            }\n        }\n        return 0;\n    }\n    \n    bool equationsPossible(vector<string>& equations) {\n        for(int i=0;i<equations.size();i++)\n        {\n            string temp=equations[i];\n            string ifelse=temp.substr(1,2);\n            if(ifelse==\"==\")\n            {\n                equals[temp[0]].push_back(temp[3]);\n                equals[temp[3]].push_back(temp[0]);\n            }\n            else\n            {\n                unequals[temp[0]].push_back(temp[3]);\n                unequals[temp[3]].push_back(temp[0]);\n            }\n        }\n        if(unequals.size()==0)\n        return true;\n        else\n        {\n            for(auto it:unequals)\n            {\n                vector<char>uneq=it.second;\n                char start=it.first;\n                for(int i=0;i<uneq.size();i++)\n                {\n                    if(contradiction(start,uneq[i])==1)\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n};","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"satisfiability-of-equality-equations"}